# Анализ данных клиентов и транзакций

Проект посвящен созданию и анализу базы данных, содержащей информацию о клиентах и их транзакциях. Цель проекта - изучить связь между атрибутами клиентов и транзакций, чтобы выявить основные факторы, влияющие на объемы продаж и предпочтения клиентов.

## Структура проекта

- `/data`: CSV файлы с данными о клиентах (`customer.csv`) и транзакциях (`transaction.csv`).
- `/screenshots`: Скриншоты результатов SQL-запросов и структуры базы данных.
- `/sql_scripts`: Содержит SQL-скрипты для создания структуры базы данных и анализа данных.
- `README.md`: Описание проекта и его компонентов.

## Список задач

- Создание структуры таблиц для хранения данных о клиентах и транзакциях.
- Загрузка данных из CSV файлов в соответствующие таблицы.
- Нормализация формата дат в таблице транзакций.
- Выполнение аналитических запросов для получения:
  - Распределения клиентов по сферам деятельности.
  - Суммы транзакций по месяцам и сферам деятельности.
  - Количество онлайн-заказов для каждого бренда в рамках подтвержденных заказов клиентов из сферы IT.
  - Суммы всех транзакций для каждого клиента, с выводом максимальных и минимальных значений.
  - Клиентов с наибольшими и наименьшими суммами покупок.
  - Клиентов с самыми первыми транзакциями.
  - Клиентов с максимальным интервалом между транзакциями.

## Скриншоты
Скриншоты результатов выполненных запросов включены в директорию screenshots. Ссылки на эти изображения также представлены в комментариях SQL скрипта.

- screenshot_1.png - Импорт данных в таблицу `customers` из CSV-файла.
- screenshot_2.png - Структура таблицы `transactions`.
- screenshot_3.png - Общая структура базы данных.
- screenshot_4.png - Импорт данных в таблицу `transactions` из CSV-файла.
- screenshot_5.png - Нормализация дат в таблице `transactions`.
- 1.png - Распределение клиентов по сферам деятельности.
- 2.png - Сумма транзакций по месяцам и сферам деятельности.
- 3.png - Количество онлайн-заказов для брендов от клиентов из сферы IT.
- 41.png - Сумма всех транзакций по клиентам с использованием `GROUP BY`.
- 43.png - Общее количество уникальных клиентов, полученное с использованием `GROUP BY`.
- 44.png - Общее количество уникальных клиентов, полученное с использованием оконных функций.
- 51.png - Клиент с максимальной суммой покупок.
- 52.png - Клиент с минимальной суммой покупок.
- 53.png - Топ-10 клиентов с максимальной суммой покупок.
- 54.png - Топ-10 клиентов с минимальной суммой покупок.
- 6.png - Первые транзакции клиентов.
- 7.png - Клиенты с максимальным интервалом между транзакциями.

## Описание таблиц

### Таблица `customers`

- `customer_id`: Уникальный идентификатор клиента
- `first_name`: Имя клиента
- `last_name`: Фамилия клиента
- `gender`: Пол клиента
- `DOB`: Дата рождения клиента
- `job_title`: Профессия клиента
- `job_industry_category`: Сфера деятельности клиента
- `wealth_segment`: Сегмент благосостояния клиента
- `deceased_indicator`: Флаг, указывающий, жив ли клиент
- `owns_car`: Флаг, указывающий, владеет ли клиент автомобилем
- `address`: Адрес проживания клиента
- `postcode`: Почтовый индекс клиента
- `state`: Штат проживания клиента
- `country`: Страна проживания клиента
- `property_valuation`: Оценка имущества клиента

### Таблица `transactions`

- `transaction_id`: Уникальный идентификатор транзакции
- `product_id`: Идентификатор продукта
- `customer_id`: Идентификатор клиента
- `transaction_date`: Дата транзакции
- `online_order`: Флаг онлайн-заказа
- `order_status`: Статус транзакции
- `brand`: Бренд продукта
- `product_line`: Линейка продуктов
- `product_class`: Класс продукта
- `product_size`: Размер продукта
- `list_price`: Цена продукта
- `standard_cost`: Стандартная стоимость продукта

## Использование

1. Клонируйте репозиторий.
2. Откройте `nikatonika.sql` в вашем SQL-клиенте.
3. Загрузите данные, выполнив соответствующие команды `COPY`.
4. Изучите структуру базы данных и результаты запросов, используя скриншоты в папке `/screenshots`.
5. Выполните SQL-запросы для анализа данных.
6. Обратитесь к комментариям в `nikatonika.sql` для понимания каждого запроса и его цели.